<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>รายละเอียดร้าน • FoodFindGo</title>

  <!-- Styles -->
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="stylesheet" href="/assets/css/detail.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>

<body class="shop-page">
  <div id="navbar"></div>

  <main class="wrap">
    <div class="grid">
      <!-- ซ้าย -->
      <section class="card">
        <div class="menu-hero">
          <img id="menuImage" alt="เมนู" />
        </div>

        <h1 id="shopTitle" class="title-sp">กำลังโหลดชื่อร้าน…</h1>
        <div id="shopMenuTitle" class="muted"></div>

        <div class="row mt-10">
          <span class="bar">
            <i class="fa-solid fa-location-dot"></i>
            <span id="userDistance">— km</span>
          </span>
          <button id="btnDirections" class="btn">เส้นทาง</button>
          <button id="btnShare" class="btn">แชร์</button>
          <button id="btnSave" class="btn btn--primary">บันทึก</button>
        </div>

        <p id="menuDesc" class="caption">—</p>

        <div class="card mini-map">
          <div id="map"></div>
        </div>
      </section>

      <!-- ขวา -->
      <aside>
        <section class="card">
          <h3 class="section-title">เมนูของร้าน <span class="shopMenuTitle"></span></h3>
          <div id="menuList" class="menu-list"></div>
        </section>

        <!-- ความคิดเห็น (ไม่มีระบบรายงาน / รอแอดมินอนุมัติ) -->
        <section class="card mt-12 comment-card">
          <h3 class="section-title">แสดงความคิดเห็น</h3>

          <!-- ดาว 1–5 -->
          <div id="ratingStars" class="rating-grid" aria-label="ให้คะแนน">
            <button type="button" data-v="1" class="star-btn">★</button>
            <button type="button" data-v="2" class="star-btn">★</button>
            <button type="button" data-v="3" class="star-btn">★</button>
            <button type="button" data-v="4" class="star-btn">★</button>
            <button type="button" data-v="5" class="star-btn">★</button>
          </div>
          <input id="ratingInput" type="number" min="1" max="5" value="0" hidden />

          <!-- กล่องคอมเมนต์ -->
          <textarea id="commentInput" class="textarea" rows="4" placeholder="พิมพ์ความคิดเห็นของคุณ…"></textarea>

          <!-- ปุ่มส่ง + คะแนนเฉลี่ย -->
          <div class="send-row">
            <button id="btnSendComment" class="btn btn--primary btn--block">
              <i class="fa-solid fa-paper-plane"></i>
              <span>ส่งความคิดเห็น</span>
            </button>
            <div id="avgRatingLabel" class="avg-rating">ยังไม่มีคะแนน</div>
          </div>

          <hr class="comment-sep" />

          <!-- เวลาใต้แสดงความคิดเห็น -->
          <div id="commentTimeHint" class="muted time-hint">⏱ เวลา: —</div>

          <!-- รายการคอมเมนต์ -->
          <div id="commentsList" class="comments-list"></div>
        </section>

        <!-- ใกล้เคียง -->
        <section class="card related-section mt-12">
          <h3 class="section-title">ใกล้เคียง</h3>
          <div id="relatedWrap" class="related-grid"></div>
        </section>
      </aside>
    </div>
  </main>
  <!-- Footer -->
<footer class="footer">
  <div class="container footer-con">
    <div class="footer-col">
      <h4>เกี่ยวกับเรา</h4>
      <p>FoodFindGo เว็บไซต์แนะนำเมนูอาหารและหาร้านใกล้เคียง</p>
    </div>

    <div class="footer-col">
      <h4>ลิงก์ด่วน</h4>
      <ul>
        <li><a href="/">หน้าหลัก</a></li>
        <li><a href="/Menu/nearby.html">ร้านอาหาร</a></li>
        <li><a href="/login/Login.html">เข้าสู่ระบบ</a></li>
      </ul>
    </div>
    <div class="footer-col">
      <h4>ติดต่อ</h4>
      <p><i class="fa-solid fa-location-dot"></i> อุบลราชธานี, ไทย</p>
    </div>
  </div>
  <div class="footer-bottom">
    <p>&copy; 2025 FoodFindGo. All rights reserved.</p>
  </div>
</footer>
  <!-- Scripts -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script type="module" src="/services/firebase.js"></script>
  <script type="module" src="/Menu/shop.js"></script>
  <script type="module" src="/script.js"></script>
</body>
</html>
